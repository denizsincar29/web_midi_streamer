<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chord Display - MIDI Mini Apps</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="../../favicon.ico">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="header-text">
                    <h1 data-i18n="chordDisplay.title">üéº Chord Display</h1>
                    <p data-i18n="chordDisplay.subtitle">Real-time jazz chord detection from MIDI input</p>
                </div>
            </div>
        </header>

        <main>
            <div class="back-navigation">
                <a href="/" class="btn btn-secondary" data-i18n="tools.backToHome">‚Üê Back to Home</a>
            </div>

            <div class="midi-status" id="midiStatus">
                <strong data-i18n="chordDisplay.midiStatus">MIDI Status:</strong> <span id="statusText" data-i18n="chordDisplay.initializing">Initializing...</span>
            </div>

            <div class="chord-display-section">
                <section class="device-group">
                    <label for="midiInput" data-i18n="chordDisplay.inputDevice">MIDI Input Device:</label>
                    <select id="midiInput" aria-label="Select MIDI input device">
                        <option value="" data-i18n="chordDisplay.noDeviceSelected">No device selected</option>
                    </select>
                </section>

                <div class="chord-display" role="region" aria-atomic="true">
                    <div class="chord-name" id="chordName">
                        <span class="placeholder-text" data-i18n="chordDisplay.playNotes">Play some notes...</span>
                    </div>
                    <div class="chord-notes" id="chordNotes"></div>
                </div>

                <div class="chord-info">
                    <h3 id="currentNotesHeading" data-i18n="chordDisplay.currentNotes">Current Notes:</h3>
                    <div class="note-list" id="noteList" aria-labelledby="currentNotesHeading">
                        <span style="color: #999;" data-i18n="chordDisplay.noNotesPlaying">No notes being played</span>
                    </div>
                </div>

                <!-- Hidden div exclusively for screen reader chord announcements -->
                <div class="sr-only" role="status" aria-live="assertive" aria-atomic="true" id="chordAnnouncement"></div>

                <div class="settings-section">
                    <h3 data-i18n="chordDisplay.settings">Settings</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="showAllChords" checked>
                            <span data-i18n="chordDisplay.showAllChords">Show all possible chord interpretations</span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="simplifyChords">
                            <span data-i18n="chordDisplay.simplifyChords">Simplify chord names (prefer basic chords)</span>
                        </label>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2024 Web MIDI Streamer | <a href="https://github.com/denizsincar29/web_midi_streamer" target="_blank" rel="noopener">GitHub</a></p>
        </footer>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
